document.addEventListener("DOMContentLoaded",function(_){const p=document.querySelector(".start_date"),m=document.querySelector(".end_date"),o=document.querySelector(".flatpickr-range");o&&o.flatpickr({mode:"range",dateFormat:"m/d/Y",orientation:isRtl?"auto right":"auto left",locale:{format:"MM/DD/YYYY"},onClose:function(t,n,a){let r="",e=new Date;t[0]!==void 0&&(r=new Date(t[0]).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),p.value=r),t[1]!==void 0&&(e=new Date(t[1]).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),m.value=e),o.dispatchEvent(new Event("change")),o.dispatchEvent(new Event("keyup"))}}),typeof $.fn<"u"&&typeof $.fn.dataTableExt<"u"&&($.fn.dataTableExt.afnFiltering.length=0);const x=function(t,n,a){typeof $.fn<"u"&&typeof $.fn.dataTableExt<"u"&&$.fn.dataTableExt.afnFiltering.push(function(r,e,s){const l=d(e[t]),i=d(n),c=d(a);return i<=l&&l<=c||l>=i&&c===""&&i!==""?!0:l<=c&&i===""&&c!==""})},d=function(t){const n=new Date(t);return n.getFullYear()+("0"+(n.getMonth()+1)).slice(-2)+("0"+n.getDate()).slice(-2)},b=document.querySelector(".datatables-ajax");b&&new DataTable(b,{processing:!0,ajax:{url:assetsPath+"json/ajax.php",dataSrc:"data"},layout:{topStart:{rowClass:"row mx-2 justify-content-between",features:[{pageLength:{menu:[7,10,25,50,100],text:"Show_MENU_entries"}}]},topEnd:{search:{placeholder:"Type search here"}},bottomStart:{rowClass:"row mx-2 justify-content-between",features:["info"]},bottomEnd:"paging"},language:{paginate:{next:'<i class="icon-base ri ri-arrow-right-s-line scaleX-n1-rtl icon-22px"></i>',previous:'<i class="icon-base ri ri-arrow-left-s-line scaleX-n1-rtl icon-22px"></i>',first:'<i class="icon-base ri ri-skip-back-mini-line scaleX-n1-rtl icon-22px"></i>',last:'<i class="icon-base ri ri-skip-forward-mini-line scaleX-n1-rtl icon-22px"></i>'}}});const h=document.querySelector(".dt-column-search");if(h){const t=document.querySelector(".dt-column-search thead"),n=t.querySelector("tr").cloneNode(!0);t.appendChild(n);const a=t.querySelectorAll("tr:nth-child(2) th");a.forEach((e,s)=>{const l=e.textContent,i=document.createElement("input");i.type="text",i.className="form-control",i.placeholder=`Search ${l}`,e.style.borderLeft="none",s===a.length-1&&(e.style.borderRight="none"),e.innerHTML="",e.appendChild(i),i.addEventListener("keyup",function(){r.column(s).search()!==this.value&&r.column(s).search(this.value).draw()}),i.addEventListener("change",function(){r.column(s).search()!==this.value&&r.column(s).search(this.value).draw()})});let r=new DataTable(h,{ajax:assetsPath+"json/table-datatable.json",columns:[{data:"full_name"},{data:"email"},{data:"post"},{data:"city"},{data:"start_date"},{data:"salary"}],orderCellsTop:!0,layout:{topStart:{rowClass:"row mx-2 justify-content-between",features:[{pageLength:{menu:[7,10,25,50,100],text:"Show_MENU_entries"}}]},topEnd:{search:{placeholder:"Type search here"}},bottomStart:{rowClass:"row mx-2 justify-content-between",features:["info"]},bottomEnd:"paging"},language:{paginate:{next:'<i class="icon-base ri ri-arrow-right-s-line scaleX-n1-rtl icon-22px"></i>',previous:'<i class="icon-base ri ri-arrow-left-s-line scaleX-n1-rtl icon-22px"></i>',first:'<i class="icon-base ri ri-skip-back-mini-line scaleX-n1-rtl icon-22px"></i>',last:'<i class="icon-base ri ri-skip-forward-mini-line scaleX-n1-rtl icon-22px"></i>'}}})}const g=document.querySelector(".dt-advanced-search");let u;g&&(u=new DataTable(g,{ajax:assetsPath+"json/table-datatable.json",columns:[{data:""},{data:"full_name"},{data:"email"},{data:"post"},{data:"city"},{data:"start_date"},{data:"salary"}],columnDefs:[{className:"control",orderable:!1,targets:0,render:function(t,n,a,r){return""}}],layout:{topStart:{rowClass:"m-0",features:[]},topEnd:{},bottomStart:{rowClass:"row mx-2 justify-content-between",features:["info"]},bottomEnd:"paging"},language:{paginate:{next:'<i class="icon-base ri ri-arrow-right-s-line scaleX-n1-rtl icon-22px"></i>',previous:'<i class="icon-base ri ri-arrow-left-s-line scaleX-n1-rtl icon-22px"></i>',first:'<i class="icon-base ri ri-skip-back-mini-line scaleX-n1-rtl icon-22px"></i>',last:'<i class="icon-base ri ri-skip-forward-mini-line scaleX-n1-rtl icon-22px"></i>'}},orderCellsTop:!0,responsive:{details:{display:DataTable.Responsive.display.modal({header:function(t){var n=t.data();return"Details of "+n.full_name}}),type:"column",renderer:function(t,n,a){const r=a.map(function(e){return e.title!==""?`<tr data-dt-row="${e.rowIndex}" data-dt-column="${e.columnIndex}">
                      <td>${e.title}:</td>
                      <td>${e.data}</td>
                    </tr>`:""}).join("");if(r){const e=document.createElement("div");e.classList.add("table-responsive");const s=document.createElement("table");e.appendChild(s),s.classList.add("table");const l=document.createElement("tbody");return l.innerHTML=r,s.appendChild(l),e}return!1}}}})),document.querySelectorAll("input.dt-input").forEach(t=>{t.addEventListener("keyup",function(){const n=this.getAttribute("data-column"),a=this.value;v(n,a)})});function v(t,n){if(t==5){const a=p.value,r=m.value;a!==""&&r!==""&&($.fn.dataTable.ext.search.length=0,x(t,a,r)),u.draw()}else u.column(t).search(n,!1,!0).draw()}const y=document.querySelector(".dt-responsive");y&&new DataTable(y,{ajax:assetsPath+"json/table-datatable.json",columns:[{data:"id"},{data:"full_name"},{data:"email"},{data:"post"},{data:"city"},{data:"start_date"},{data:"salary"},{data:"age"},{data:"experience"},{data:"status"}],columnDefs:[{className:"control",orderable:!1,targets:0,searchable:!1,render:function(t,n,a,r){return""}},{targets:-1,render:function(t,n,a,r){const e=a.status,s={1:{title:"Current",class:"bg-label-primary"},2:{title:"Professional",class:"bg-label-success"},3:{title:"Rejected",class:"bg-label-danger"},4:{title:"Resigned",class:"bg-label-warning"},5:{title:"Applied",class:"bg-label-info"}};return typeof s[e]>"u"?t:`
              <span class="badge rounded-pill ${s[e].class}">
                ${s[e].title}
              </span>
            `}}],destroy:!0,layout:{topStart:{rowClass:"row mx-2 justify-content-between",features:[{pageLength:{menu:[7,10,25,50,100],text:"Show_MENU_entries"}}]},topEnd:{search:{placeholder:"Type search here"}},bottomStart:{rowClass:"row mx-2 justify-content-between",features:["info"]},bottomEnd:"paging"},language:{paginate:{next:'<i class="icon-base ri ri-arrow-right-s-line scaleX-n1-rtl icon-22px"></i>',previous:'<i class="icon-base ri ri-arrow-left-s-line scaleX-n1-rtl icon-22px"></i>',first:'<i class="icon-base ri ri-skip-back-mini-line scaleX-n1-rtl icon-22px"></i>',last:'<i class="icon-base ri ri-skip-forward-mini-line scaleX-n1-rtl icon-22px"></i>'}},responsive:{details:{display:DataTable.Responsive.display.modal({header:function(t){var n=t.data();return"Details of "+n.full_name}}),type:"column",renderer:function(t,n,a){const r=a.map(function(e){return e.title!==""?`<tr data-dt-row="${e.rowIndex}" data-dt-column="${e.columnIndex}">
                      <td>${e.title}:</td>
                      <td>${e.data}</td>
                    </tr>`:""}).join("");if(r){const e=document.createElement("div");e.classList.add("table-responsive");const s=document.createElement("table");e.appendChild(s),s.classList.add("table");const l=document.createElement("tbody");return l.innerHTML=r,s.appendChild(l),e}return!1}}}});const w=document.querySelector(".dt-responsive-child");let f;w&&(f=new DataTable(w,{ajax:assetsPath+"json/table-datatable.json",columns:[{data:null},{data:"full_name"},{data:"email"},{data:"city"},{data:"start_date"},{data:"age"},{data:"status"}],columnDefs:[{className:"dt-control",orderable:!1,targets:0,searchable:!1,defaultContent:""},{targets:-1,render:function(t,n,a,r){const e=a.status,s={1:{title:"Current",class:"bg-label-primary"},2:{title:"Professional",class:"bg-label-success"},3:{title:"Rejected",class:"bg-label-danger"},4:{title:"Resigned",class:"bg-label-warning"},5:{title:"Applied",class:"bg-label-info"}};return typeof s[e]>"u"?t:`
              <span class="badge rounded-pill ${s[e].class}">
                ${s[e].title}
              </span>
            `}}],layout:{topStart:{rowClass:"row mx-2 justify-content-between",features:[{pageLength:{menu:[7,10,25,50,100],text:"Show_MENU_entries"}}]},topEnd:{search:{placeholder:"Type search here"}},bottomStart:{rowClass:"row mx-2 justify-content-between",features:["info"]},bottomEnd:"paging"},scrollX:!0,language:{paginate:{next:'<i class="icon-base ri ri-arrow-right-s-line scaleX-n1-rtl icon-22px"></i>',previous:'<i class="icon-base ri ri-arrow-left-s-line scaleX-n1-rtl icon-22px"></i>',first:'<i class="icon-base ri ri-skip-back-mini-line scaleX-n1-rtl icon-22px"></i>',last:'<i class="icon-base ri ri-skip-forward-mini-line scaleX-n1-rtl icon-22px"></i>'}}}));function E(t){return"<dl><dt>Full name:</dt><dd>"+t.full_name+"</dd><dt>Post:</dt><dd>"+t.post+"</dd><dt>Salary:</dt><dd>"+t.salary+"</dd><dt>Experience:</dt><dd>"+t.experience+"</dd></dl>"}f.on("click","td.dt-control",function(t){let n=t.target.closest("tr"),a=f.row(n);a.child.isShown()?a.child.hide():a.child(E(a.data())).show()}),setTimeout(()=>{[{selector:".dt-buttons .btn",classToRemove:"btn-secondary"},{selector:".dt-layout-table",classToRemove:"row mt-2"},{selector:".dt-layout-end",classToAdd:"mt-0",classToRemove:"ms-auto"},{selector:".dt-layout-end .dt-search",classToAdd:"mt-md-5 mt-0",classToRemove:"ms-auto"},{selector:".dt-layout-full",classToRemove:"col-md col-12",classToAdd:"table-responsive"}].forEach(({selector:n,classToRemove:a,classToAdd:r})=>{document.querySelectorAll(n).forEach(e=>{a&&a.split(" ").forEach(s=>e.classList.remove(s)),r&&r.split(" ").forEach(s=>e.classList.add(s))})})},100)});
