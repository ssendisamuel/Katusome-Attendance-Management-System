document.addEventListener("DOMContentLoaded",function(k){let f,c,n,h,p;isDarkStyle?p="dark":p="light",config.colors.cardColor,f=config.colors.headingColor,c=config.colors.textMuted,h=config.colors.borderColor,config.colors.bodyColor,n=config.fontFamily;const i={donut:{series1:config.colors.primary},donut2:{series1:"#49AC00",series2:"#4DB600",series3:config.colors.success,series4:"#78D533",series5:"#9ADF66",series6:"#BBEA99"},line:{series1:config.colors.warning,series2:config.colors.primary}},l=document.querySelector("#leadsReportChart"),w=l?parseInt(l.getAttribute("data-total-hours")||"0",10):0,C={chart:{height:140,width:130,parentHeightOffset:0,type:"donut",opacity:1},labels:["Total"],series:[100],colors:[i.donut2.series1,i.donut2.series2,i.donut2.series3,i.donut2.series4,i.donut2.series5,i.donut2.series6],stroke:{width:0},dataLabels:{enabled:!1,formatter:function(e,r){return parseInt(e)+"%"}},legend:{show:!1},tooltip:{theme:p},grid:{padding:{top:0}},plotOptions:{pie:{donut:{size:"75%",labels:{show:!0,value:{fontSize:"1.125rem",fontFamily:n,color:f,fontWeight:500,offsetY:-15,formatter:function(e){return parseInt(e)+"%"}},name:{offsetY:20,fontFamily:n},total:{show:!0,fontSize:".9375rem",label:"Total",color:c,formatter:function(e){return`${w}h`}}}}}}};typeof l!==void 0&&l!==null&&new ApexCharts(l,C).render();const d=document.querySelector("#horizontalBarChart"),m=d?(()=>{try{return JSON.parse(d.getAttribute("data-track")||"[]")}catch{return[]}})():[],g={chart:{height:300,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0,barHeight:"60%",distributed:!0,startingShape:"rounded",borderRadiusApplication:"end",borderRadius:7}},grid:{strokeDashArray:10,borderColor:h,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:-35,bottom:-12}},colors:[config.colors.primary,config.colors.info,config.colors.success,config.colors.secondary,config.colors.danger,config.colors.warning],fill:{opacity:[1,1,1,1,1,1]},dataLabels:{enabled:!0,style:{colors:[config.colors.white],fontWeight:400,fontSize:"13px",fontFamily:n},formatter:function(e,r){return g.labels[r.dataPointIndex]},offsetX:0,dropShadow:{enabled:!1}},labels:m.map(e=>e.name),series:[{data:m.map(e=>e.percent)}],xaxis:{categories:["6","5","4","3","2","1"],axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:c,fontFamily:n,fontSize:"13px"},formatter:function(e){return`${e}%`}}},yaxis:{max:100,labels:{style:{colors:[c],fontFamily:n,fontSize:"13px"}}},tooltip:{enabled:!0,style:{fontSize:"12px"},onDatasetHover:{highlightDataSeries:!1},custom:function({series:e,seriesIndex:r,dataPointIndex:t,w:a}){return'<div class="px-3 py-2"><span>'+e[r][t]+"%</span></div>"}},legend:{show:!1}};typeof d!==void 0&&d!==null&&new ApexCharts(d,g).render();function v(e,r,t){return{chart:{height:t=="true"?58:55,width:t=="true"?58:45,type:"radialBar"},plotOptions:{radialBar:{hollow:{size:t=="true"?"45%":"25%"},dataLabels:{show:t=="true",value:{offsetY:-10,fontSize:"15px",fontWeight:500,fontFamily:n,color:f}},track:{background:config.colors_label.secondary}}},stroke:{lineCap:"round"},colors:[e],grid:{padding:{top:t=="true"?-12:-15,bottom:t=="true"?-17:-15,left:t=="true"?-17:-5,right:-15}},series:[r],labels:t=="true"?[""]:["Progress"]}}const b=document.querySelectorAll(".chart-progress");b&&b.forEach(function(e){const r=config.colors[e.dataset.color],t=e.dataset.series,a=e.dataset.progress_variant,o=v(r,t,a);new ApexCharts(e,o).render()});const y=document.querySelector(".datatables-academy-course");if(y){let e=document.createElement("h5");e.classList.add("card-title","mb-0","text-nowrap","text-md-start","text-center"),e.innerHTML="Course you are taking",new DataTable(y,{ajax:baseUrl+"dashboard/courses",columns:[{data:"id"},{data:"id",orderable:!1,render:DataTable.render.select()},{data:"course name"},{data:"time"},{data:"progress"},{data:"attended"}],columnDefs:[{className:"control",searchable:!1,orderable:!1,responsivePriority:2,targets:0,render:function(r,t,a,o){return""}},{targets:1,orderable:!1,searchable:!1,responsivePriority:3,checkboxes:!0,render:function(){return'<input type="checkbox" class="dt-checkboxes form-check-input">'},checkboxes:{selectAllRender:'<input type="checkbox" class="form-check-input">'}},{targets:2,responsivePriority:2,render:(r,t,a)=>`<span class="fw-medium text-heading">${a["course name"]||""}</span>`},{targets:3,responsivePriority:3,render:r=>{const t=moment.duration(r),a=Math.floor(t.asHours()),o=Math.floor(t.asMinutes())-a*60;return`<span class="fw-medium text-nowrap text-heading">${`${a}h ${o}m`}</span>`}},{targets:4,render:(r,t,a)=>{const o=a.progress||"0%";return`
                  <div class="d-flex align-items-center gap-3">
                      <p class="fw-medium mb-0 text-heading">${o}</p>
                      <div class="progress bg-label-primary w-100" style="height: 8px;">
                          <div
                              class="progress-bar"
                              style="width: ${o}"
                              aria-valuenow="${parseInt(o)}"
                              aria-valuemin="0"
                              aria-valuemax="100">
                          </div>
                      </div>
                  </div>
              `}},{targets:5,render:(r,t,a)=>`<span class="badge bg-label-success">Attended ${a.attended??0}</span>`}],select:{style:"multi",selector:"td:nth-child(2)"},order:[[2,"desc"]],layout:{topStart:{rowClass:"row card-header mx-0 px-5 py-md-0",features:[e]},topEnd:{search:{placeholder:"Search Course",text:"_INPUT_"}},bottomStart:{rowClass:"row mx-3 justify-content-between",features:["info"]},bottomEnd:"paging"},lengthMenu:[5],language:{paginate:{next:'<i class="icon-base ri ri-arrow-right-s-line scaleX-n1-rtl icon-22px"></i>',previous:'<i class="icon-base ri ri-arrow-left-s-line scaleX-n1-rtl icon-22px"></i>',first:'<i class="icon-base ri ri-skip-back-mini-line scaleX-n1-rtl icon-22px"></i>',last:'<i class="icon-base ri ri-skip-forward-mini-line scaleX-n1-rtl icon-22px"></i>'}},responsive:{details:{display:DataTable.Responsive.display.modal({header:function(r){return"Details of "+r.data().order}}),type:"column",renderer:function(r,t,a){const o=a.map(function(s){return s.title!==""?`<tr data-dt-row="${s.rowIndex}" data-dt-column="${s.columnIndex}">
                      <td>${s.title}:</td>
                      <td>${s.data}</td>
                    </tr>`:""}).join("");if(o){const s=document.createElement("div");s.classList.add("table-responsive");const u=document.createElement("table");s.appendChild(u),u.classList.add("table"),u.classList.add("datatables-basic");const x=document.createElement("tbody");return x.innerHTML=o,u.appendChild(x),s}return!1}}}})}setTimeout(()=>{[{selector:".dt-layout-table",classToRemove:"row mt-2"},{selector:".dt-layout-start",classToAdd:"px-0"},{selector:".dt-layout-end",classToAdd:"px-0"},{selector:".dt-layout-full",classToRemove:"col-md col-12",classToAdd:"table-responsive"}].forEach(({selector:r,classToRemove:t,classToAdd:a})=>{document.querySelectorAll(r).forEach(o=>{t&&t.split(" ").forEach(s=>o.classList.remove(s)),a&&a.split(" ").forEach(s=>o.classList.add(s))})})},100)});
